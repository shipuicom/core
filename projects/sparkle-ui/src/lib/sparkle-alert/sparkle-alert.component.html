<div class="alert">
  <div #ref class="icon" [style.display]="!ref.children.length ? 'none' : 'block'">
    <ng-content select="[icon]"></ng-content>
  </div>

  <div class="icon">
    @switch (type()) {
      @case ('primary') {
        <spk-icon class="state-icon">info</spk-icon>
      }
      @case ('accent') {
        <spk-icon class="state-icon">info</spk-icon>
      }
      @case ('success') {
        <spk-icon class="state-icon">check-circle</spk-icon>
      }
      @case ('error') {
        <spk-icon class="state-icon">warning-octagon</spk-icon>
      }
      @case ('warning') {
        <spk-icon class="state-icon">warning</spk-icon>
      }
      @default {
        <spk-icon class="state-icon">question</spk-icon>
      }
    }
  </div>

  <div class="title">
    <ng-content select="[title]"></ng-content>
    <ng-content></ng-content>
  </div>

  @if (id()) {
    <spk-icon class="close-icon" (click)="removeAlert()">plus</spk-icon>
  }

  <div class="content">
    <ng-content select="[content]"></ng-content>
  </div>
</div>
